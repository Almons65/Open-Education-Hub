{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mharu/dev/Open-Education-Hub/frontend/src/app/components/PageTransition.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { motion } from \"framer-motion\";\r\n\r\nexport default function PageTransition({ children }) {\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0, y: 10 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      exit={{ opacity: 0, y: -10 }}\r\n      transition={{ duration: 0.4 }}\r\n    >\r\n      {children}\r\n    </motion.div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIe,SAAS,eAAe,EAAE,QAAQ,EAAE;IACjD,qBACE,8OAAC,oMAAM,CAAC,GAAG;QACT,SAAS;YAAE,SAAS;YAAG,GAAG;QAAG;QAC7B,SAAS;YAAE,SAAS;YAAG,GAAG;QAAE;QAC5B,MAAM;YAAE,SAAS;YAAG,GAAG,CAAC;QAAG;QAC3B,YAAY;YAAE,UAAU;QAAI;kBAE3B;;;;;;AAGP","debugId":null}},
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/app/profile/profile.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"achievementContainer\": \"profile-module__5FeCNW__achievementContainer\",\n  \"achievementTitle\": \"profile-module__5FeCNW__achievementTitle\",\n  \"active\": \"profile-module__5FeCNW__active\",\n  \"arrow\": \"profile-module__5FeCNW__arrow\",\n  \"arrowOpen\": \"profile-module__5FeCNW__arrowOpen\",\n  \"avatarDecoration\": \"profile-module__5FeCNW__avatarDecoration\",\n  \"avatarOverlay\": \"profile-module__5FeCNW__avatarOverlay\",\n  \"avatarWrapper\": \"profile-module__5FeCNW__avatarWrapper\",\n  \"backToProfileBtn\": \"profile-module__5FeCNW__backToProfileBtn\",\n  \"badgeCard\": \"profile-module__5FeCNW__badgeCard\",\n  \"badgeGrid\": \"profile-module__5FeCNW__badgeGrid\",\n  \"badgeImage\": \"profile-module__5FeCNW__badgeImage\",\n  \"badgeLabel\": \"profile-module__5FeCNW__badgeLabel\",\n  \"bar1\": \"profile-module__5FeCNW__bar1\",\n  \"bar2\": \"profile-module__5FeCNW__bar2\",\n  \"bar3\": \"profile-module__5FeCNW__bar3\",\n  \"bronzeDecoration\": \"profile-module__5FeCNW__bronzeDecoration\",\n  \"cancelBtn\": \"profile-module__5FeCNW__cancelBtn\",\n  \"decorationActive\": \"profile-module__5FeCNW__decorationActive\",\n  \"decorationName\": \"profile-module__5FeCNW__decorationName\",\n  \"decorationOption\": \"profile-module__5FeCNW__decorationOption\",\n  \"decorationPreview\": \"profile-module__5FeCNW__decorationPreview\",\n  \"decorationPreviewInner\": \"profile-module__5FeCNW__decorationPreviewInner\",\n  \"decorationSelector\": \"profile-module__5FeCNW__decorationSelector\",\n  \"dropBtn\": \"profile-module__5FeCNW__dropBtn\",\n  \"dropBtnLeft\": \"profile-module__5FeCNW__dropBtnLeft\",\n  \"dropContent\": \"profile-module__5FeCNW__dropContent\",\n  \"dropContentOpen\": \"profile-module__5FeCNW__dropContentOpen\",\n  \"dropIcon\": \"profile-module__5FeCNW__dropIcon\",\n  \"dropItem\": \"profile-module__5FeCNW__dropItem\",\n  \"dropLabel\": \"profile-module__5FeCNW__dropLabel\",\n  \"dropdown\": \"profile-module__5FeCNW__dropdown\",\n  \"dropdownGroup\": \"profile-module__5FeCNW__dropdownGroup\",\n  \"editBtn\": \"profile-module__5FeCNW__editBtn\",\n  \"editForm\": \"profile-module__5FeCNW__editForm\",\n  \"emailIcon\": \"profile-module__5FeCNW__emailIcon\",\n  \"emailWrapper\": \"profile-module__5FeCNW__emailWrapper\",\n  \"floatParticle\": \"profile-module__5FeCNW__floatParticle\",\n  \"formActions\": \"profile-module__5FeCNW__formActions\",\n  \"goldDecoration\": \"profile-module__5FeCNW__goldDecoration\",\n  \"gradientMove\": \"profile-module__5FeCNW__gradientMove\",\n  \"headerLabel\": \"profile-module__5FeCNW__headerLabel\",\n  \"imageText\": \"profile-module__5FeCNW__imageText\",\n  \"main\": \"profile-module__5FeCNW__main\",\n  \"mainContent\": \"profile-module__5FeCNW__mainContent\",\n  \"menuBtn\": \"profile-module__5FeCNW__menuBtn\",\n  \"menuLinks\": \"profile-module__5FeCNW__menuLinks\",\n  \"navLink\": \"profile-module__5FeCNW__navLink\",\n  \"particle\": \"profile-module__5FeCNW__particle\",\n  \"particles\": \"profile-module__5FeCNW__particles\",\n  \"percentLabel\": \"profile-module__5FeCNW__percentLabel\",\n  \"profileActions\": \"profile-module__5FeCNW__profileActions\",\n  \"profileAvatarImage\": \"profile-module__5FeCNW__profileAvatarImage\",\n  \"profileAvatarPlaceholder\": \"profile-module__5FeCNW__profileAvatarPlaceholder\",\n  \"profileBio\": \"profile-module__5FeCNW__profileBio\",\n  \"profileContainer\": \"profile-module__5FeCNW__profileContainer\",\n  \"profileEmail\": \"profile-module__5FeCNW__profileEmail\",\n  \"profileHeader\": \"profile-module__5FeCNW__profileHeader\",\n  \"profileInfoWrapper\": \"profile-module__5FeCNW__profileInfoWrapper\",\n  \"profileLayout\": \"profile-module__5FeCNW__profileLayout\",\n  \"profileName\": \"profile-module__5FeCNW__profileName\",\n  \"profileUsername\": \"profile-module__5FeCNW__profileUsername\",\n  \"progressBar\": \"profile-module__5FeCNW__progressBar\",\n  \"progressContainer\": \"profile-module__5FeCNW__progressContainer\",\n  \"progressWrapper\": \"profile-module__5FeCNW__progressWrapper\",\n  \"saveBtn\": \"profile-module__5FeCNW__saveBtn\",\n  \"sidebar\": \"profile-module__5FeCNW__sidebar\",\n  \"silverDecoration\": \"profile-module__5FeCNW__silverDecoration\",\n  \"statBlock\": \"profile-module__5FeCNW__statBlock\",\n  \"statItem\": \"profile-module__5FeCNW__statItem\",\n  \"toggleBtn\": \"profile-module__5FeCNW__toggleBtn\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 117, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mharu/dev/Open-Education-Hub/frontend/src/app/profile/ProfilePage.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect, useRef, useCallback } from \"react\";\r\nimport { useRouter, useSearchParams} from \"next/navigation\";\r\nimport PageTransition from \"../components/PageTransition\";\r\nimport styles from \"./profile.module.css\";\r\n\r\n// --- Mock Data and Constants ---\r\n\r\n// The username of the person currently logged in.\r\nconst LOGGED_IN_USERNAME = \"User2\";\r\n\r\n// A mock database of user information. In a real app, this would be fetched.\r\nconst USERS_DATA = {\r\n  User1: { name: \"User1\", username: \"user_01\", email: \"user1@example.com\", joined: \"Nov 2, 2025\", bio: \"A passionate learner and explorer.\" },\r\n  User2: { name: \"User2\", username: \"user_02\", email: \"user2@example.com\", joined: \"Nov 2, 2025\", bio: \"Try to reach the top.\" },\r\n  User3: { name: \"User3\", username: \"user_03\", email: \"user3@example.com\", joined: \"Nov 3, 2025\", bio: \"Be the best.\" },\r\n  User4: { name: \"User4\", username: \"user_04\", email: \"user4@example.com\", joined: \"Nov 3, 2025\", bio: \"Likes to face challenges.\" },\r\n};\r\n\r\n// --- Reusable Dropdown Component ---\r\n\r\n/**\r\n * A reusable dropdown component.\r\n * @param {object} props - Component props.\r\n * @param {string} props.label - The text to display on the dropdown button.\r\n * @param {string} props.icon - The path to the icon image.\r\n * @param {React.ReactNode} props.children - The content to show inside the dropdown.\r\n * @param {string} props.width - The CSS width of the component.\r\n * @param {function} props.onOpen - A callback function to run when the dropdown is opened.\r\n */\r\nfunction Dropdown({ label, icon, children, width = \"100%\", onOpen }) {\r\n  // State to track if the dropdown is open or closed\r\n  const [open, setOpen] = useState(false);\r\n  // Ref to get a reference to the main dropdown <div>\r\n  const ref = useRef(null);\r\n\r\n  // This effect adds a global click listener to close the dropdown\r\n  // when the user clicks *outside* of it.\r\n  useEffect(() => {\r\n    function onDocClick(e) {\r\n      // If the ref is set and the click was *not* inside the ref's element\r\n      if (ref.current && !ref.current.contains(e.target)) {\r\n        setOpen(false); // Close the dropdown\r\n      }\r\n    }\r\n    // Add the listener\r\n    document.addEventListener(\"mousedown\", onDocClick);\r\n    // Cleanup: Remove the listener when the component unmounts\r\n    return () => document.removeEventListener(\"mousedown\", onDocClick);\r\n  }, []);\r\n\r\n  // Function to toggle the dropdown's open state\r\n  const toggleDropdown = () => {\r\n    const newOpen = !open;\r\n    setOpen(newOpen);\r\n    // If we are opening it and an 'onOpen' function was provided, call it\r\n    if (newOpen && onOpen) {\r\n      onOpen();\r\n    }\r\n  };\r\n\r\n  // Render the dropdown\r\n  return (\r\n    <div className={styles.dropdown} ref={ref} style={{ width }}>\r\n      {/* The main button that is always visible */}\r\n      <button\r\n        className={styles.dropBtn}\r\n        onClick={toggleDropdown}\r\n        aria-expanded={open} // For accessibility\r\n        type=\"button\"\r\n      >\r\n        <div className={styles.dropBtnLeft}>\r\n          {/* The icon and label */}\r\n          {icon && <img src={icon} alt=\"\" className={styles.dropIcon} />}\r\n          <span className={styles.dropLabel}>{label}</span>\r\n        </div>\r\n        {/* The arrow that rotates */}\r\n        <div className={`${styles.arrow} ${open ? styles.arrowOpen : \"\"}`} aria-hidden=\"true\">\r\n          ▶\r\n        </div>\r\n      </button>\r\n      {/* The content that appears/disappears */}\r\n      <div className={`${styles.dropContent} ${open ? styles.dropContentOpen : \"\"}`}>{children}</div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// --- Profile Page Component ---\r\n\r\n// A list of all courses, used to look up names and badge info\r\nconst courses = [\r\n  { id: \"AAA001\", name: \"Introduction to Programming\", totalLectures: 3, badge: \"/badges/ITP_badge.png\", badgeName: \"Python Pioneer\" },\r\n  { id: \"AAA002\", name: \"Calculus 1\", totalLectures: 3, badge: \"/badges/Cal_Badge.png\", badgeName: \"Mathematical Master\" },\r\n  { id: \"BAA001\", name: \"Electromagnetic Induction\", totalLectures: 3, badge: \"/badges/Electromag_Badge.png\", badgeName: \"Physics Phenom\" },\r\n  { id: \"BBA001\", name: \"Introduction to Deep Learning\", totalLectures: 3, badge: \"/badges/ITDL_Badge.png\", badgeName: \"AI Technician\" },\r\n  { id: \"BBA002\", name: \"Ecology\", totalLectures: 3, badge: \"/badges/Eco_Badge.png\", badgeName: \"Eco Explorer\" },\r\n  { id: \"CAA100\", name: \"Electrodynamics\", totalLectures: 3, badge: \"/badges/ElectroDyn_Badge.png\", badgeName: \"Quantum Quester\" },\r\n];\r\n\r\n// A mapping of ranking medals to their badge and decoration assets\r\nconst MEDAL_REWARDS = {\r\n  gold: {\r\n    badge: { id: \"rank_gold_badge\", url: \"/medals/gold_medal.png\", name: \"Gold Medalist\" },\r\n    decoration: { id: \"gold_decoration\", name: \"Gold Wreath\", styleClass: styles.goldDecoration }\r\n  },\r\n  silver: {\r\n    badge: { id: \"rank_silver_badge\", url: \"/medals/silver_medal.png\", name: \"Silver Medalist\" },\r\n    decoration: { id: \"silver_decoration\", name: \"Silver Wreath\", styleClass: styles.silverDecoration }\r\n  },\r\n  bronze: {\r\n    badge: { id: \"rank_bronze_badge\", url: \"/medals/bronze_medal.png\", name: \"Bronze Medalist\" },\r\n    decoration: { id: \"bronze_decoration\", name: \"Bronze Wreath\", styleClass: styles.bronzeDecoration }\r\n  },\r\n};\r\n\r\n// The main Profile Page component\r\nexport default function ProfilePage() {\r\n  // Initialize Next.js router\r\n  const router = useRouter();\r\n  // State for the sidebar (open/closed)\r\n  const [sidebarOpen, setSidebarOpen] = useState(false);\r\n  // State for the background particles\r\n  const [particles, setParticles] = useState([]);\r\n  // State for tracking if the profile is in \"edit mode\"\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  // State to store the user's avatar (as a base64 Data URL)\r\n  const [avatar, setAvatar] = useState(null);\r\n  // Ref to access the hidden file input for changing the avatar\r\n  const fileInputRef = useRef(null);\r\n  // State for the user's list of favorite course IDs\r\n  const [favorites, setFavorites] = useState([]);\r\n  // State for the user's list of recently viewed course IDs\r\n  const [history, setHistory] = useState([]);\r\n  // State for the user's earned badge objects { url, name }\r\n  const [badges, setBadges] = useState([]);\r\n  // State for the *entire* course progress object (for all users)\r\n  const [courseProgress, setCourseProgress] = useState({});\r\n  // State for the user's total learning time in seconds\r\n  const [learningTime, setLearningTime] = useState(0);\r\n  // State for the list of decoration IDs the user has unlocked\r\n  const [unlockedDecorations, setUnlockedDecorations] = useState([]);\r\n  // State for the currently equipped decoration ID\r\n  const [equippedDecoration, setEquippedDecoration] = useState(null);\r\n\r\n  // This state is crucial. It stores *which profile we are currently viewing*.\r\n  // It starts as 'null' to indicate we haven't checked the URL yet.\r\n  const [currentUsername, setCurrentUsername] = useState(null); \r\n\r\n  // State for the static user data (name, bio, etc.)\r\n  const [user, setUser] = useState({});\r\n  // State for the form data when in \"edit mode\"\r\n  const [formData, setFormData] = useState({});\r\n  \r\n  \r\n  // This function calculates the user's earned badges from their progress\r\n  // 'useCallback' memoizes the function so it doesn't change on every render,\r\n  // making it safe to use in 'useEffect' dependency arrays.\r\n  const updateEarnedBadges = useCallback((currentProgress) => {\r\n    // Don't run if the user isn't set yet\r\n    if (!currentUsername) return;\r\n    const earnedBadges = [];\r\n    // Get the progress for *this specific user*\r\n    const userProgress = currentProgress[currentUsername] || {};\r\n\r\n    // 1. Check for a badge for each *course*\r\n    for (const course of courses) {\r\n      const progressData = userProgress[course.id];\r\n      // If the user has progress data and their 'badgeEarned' property matches\r\n      if (progressData && progressData.badgeEarned === course.badge) {\r\n        earnedBadges.push({\r\n          url: course.badge,\r\n          name: course.badgeName,\r\n        });\r\n      }\r\n    }\r\n\r\n    // 2. Check for a badge for each *ranking medal*\r\n    for (const reward of Object.values(MEDAL_REWARDS)) {\r\n      const medalData = userProgress[reward.badge.id];\r\n      // If the user has progress data and their 'badgeEarned' property matches\r\n      if (medalData && medalData.badgeEarned === reward.badge.url) {\r\n        earnedBadges.push({ url: reward.badge.url, name: reward.badge.name });\r\n      }\r\n    }\r\n    // Update the state with the final list of badges\r\n    setBadges(earnedBadges);\r\n  }, [currentUsername]); // This function will be remade if 'currentUsername' changes\r\n\r\n\r\n  // A helper function to format total seconds into \"Xh Ym\" format\r\n  const formatTime = (totalSeconds) => {\r\n    if (!totalSeconds) totalSeconds = 0;\r\n    const hours = Math.floor(totalSeconds / 3600);\r\n    const minutes = Math.floor((totalSeconds % 3600) / 60);\r\n    return `${hours}h ${minutes}m`;\r\n  };\r\n\r\n\r\n  // Get the URL search/query parameters\r\n  const searchParams = useSearchParams();\r\n\r\n  // EFFECT 1: This effect runs ONCE on page load to determine *which user to display*.\r\n  useEffect(() => {\r\n    // Get the '?view=' parameter from the URL (e.g., \"/profile?view=User1\")\r\n    const viewParam = searchParams.get(\"view\");\r\n\r\n    // If URL is \"?view=me\", load the logged-in user\r\n    if (viewParam === \"me\") {\r\n      setCurrentUsername(LOGGED_IN_USERNAME);\r\n      return; // Stop here\r\n    }\r\n\r\n    // If URL has a specific username (e.g., \"?view=User1\"), load that user\r\n    if (viewParam && viewParam !== \"me\") {\r\n      setCurrentUsername(viewParam);\r\n      return; // Stop here\r\n    }\r\n\r\n    // FALLBACK: If no '?view=' param, check localStorage (from Ranking page)\r\n    const storedProfile = localStorage.getItem(\"viewing_profile\");\r\n    // Load the stored profile, or default to the logged-in user\r\n    setCurrentUsername(storedProfile || LOGGED_IN_USERNAME);\r\n  }, [searchParams]); // This effect re-runs if the URL search params change\r\n\r\n\r\n\r\n  // EFFECT 2: This effect loads all data *after* 'currentUsername' has been set.\r\n  useEffect(() => {\r\n    // Do nothing if 'currentUsername' is still null (waiting for Effect 1)\r\n    if (!currentUsername) return; \r\n\r\n    // --- Load all data from mock database and localStorage ---\r\n\r\n    // 1. Load static user info (name, bio, etc.)\r\n    const userInfo = USERS_DATA[currentUsername] || { name: \"Guest\", username: \"guest\", email: \"\", joined: \"N/A\", bio: \"\" };\r\n    setUser(userInfo);\r\n    setFormData(userInfo); // Pre-fill the edit form\r\n\r\n    // 2. Load user's favorites\r\n    let allFavorites = JSON.parse(localStorage.getItem(\"favorites\") || \"{}\");\r\n    if (Array.isArray(allFavorites)) { allFavorites = {}; } // Fix old data format\r\n    setFavorites(allFavorites[currentUsername] || []); // Get only this user's list\r\n\r\n    // 3. Load user's history\r\n    let allHistory = JSON.parse(localStorage.getItem(\"history\") || \"{}\");\r\n    if (Array.isArray(allHistory)) { allHistory = {}; } // Fix old data format\r\n    setHistory(allHistory[currentUsername] || []); // Get only this user's list\r\n\r\n    // 4. Load course progress and update badges\r\n    const savedProgress = JSON.parse(localStorage.getItem(\"courseProgress\") || \"{}\");\r\n    setCourseProgress(savedProgress); // Save the *entire* progress object\r\n    updateEarnedBadges(savedProgress); // Calculate badges from it\r\n\r\n    // 5. Load learning time\r\n    const savedTime = JSON.parse(localStorage.getItem(\"learningTime\") || \"{}\");\r\n    setLearningTime(savedTime[currentUsername] || 0); // Get only this user's time\r\n\r\n    // 6. Load avatar\r\n    const savedAvatars = JSON.parse(localStorage.getItem(\"userAvatars\") || \"{}\");\r\n    setAvatar(savedAvatars[currentUsername] || null); // Get only this user's avatar\r\n\r\n    // 7. Load decorations\r\n    const decorationData = JSON.parse(localStorage.getItem(\"userDecorations\") || \"{}\");\r\n    const userDecorations = decorationData[currentUsername] || { unlocked: [], equipped: null };\r\n    setUnlockedDecorations(userDecorations.unlocked);\r\n    setEquippedDecoration(userDecorations.equipped);\r\n    \r\n  }, [currentUsername, updateEarnedBadges]); // Re-runs if 'currentUsername' changes\r\n\r\n\r\n  // EFFECT 3: This effect sets up listeners to keep the page in sync with other tabs.\r\n  useEffect(() => {\r\n    // Don't attach listeners if we don't know *which* user to listen for\r\n    if (!currentUsername) return;\r\n    \r\n    // This function re-loads ALL data from localStorage\r\n    const handleStorageAndFocus = () => {\r\n      // (This is the same logic as EFFECT 2, just re-running to get fresh data)\r\n      let allFavorites = JSON.parse(localStorage.getItem(\"favorites\") || \"{}\");\r\n      if (Array.isArray(allFavorites)) { allFavorites = {}; }\r\n      setFavorites(allFavorites[currentUsername] || []);\r\n\r\n      let allHistory = JSON.parse(localStorage.getItem(\"history\") || \"{}\");\r\n      if (Array.isArray(allHistory)) { allHistory = {}; }\r\n      setHistory(allHistory[currentUsername] || []);\r\n\r\n      const savedProgress = JSON.parse(localStorage.getItem(\"courseProgress\") || \"{}\");\r\n      setCourseProgress(savedProgress);\r\n      updateEarnedBadges(savedProgress);\r\n\r\n      const savedTime = JSON.parse(localStorage.getItem(\"learningTime\") || \"{}\");\r\n      setLearningTime(savedTime[currentUsername] || 0);\r\n      \r\n      const savedAvatars = JSON.parse(localStorage.getItem(\"userAvatars\") || \"{}\");\r\n      setAvatar(savedAvatars[currentUsername] || null);\r\n\r\n      const decorationData = JSON.parse(localStorage.getItem(\"userDecorations\") || \"{}\");\r\n      const userDecorations = decorationData[currentUsername] || { unlocked: [], equipped: null };\r\n      setUnlockedDecorations(userDecorations.unlocked);\r\n      setEquippedDecoration(userDecorations.equipped);\r\n    };\r\n\r\n    // Custom events dispatched by other components for instant updates\r\n    const handleHistoryUpdated = () => handleStorageAndFocus();\r\n    const handleFavoritesUpdated = () => handleStorageAndFocus();\r\n\r\n    // Listen for 'storage' events (changes in other tabs)\r\n    window.addEventListener(\"storage\", handleStorageAndFocus);\r\n    // Listen for 'focus' events (user clicking back to this tab)\r\n    window.addEventListener(\"focus\", handleStorageAndFocus);\r\n    // Listen for our custom events\r\n    window.addEventListener(\"favoritesUpdated\", handleFavoritesUpdated);\r\n    window.addEventListener(\"historyUpdated\", handleHistoryUpdated);\r\n\r\n    // Cleanup: Remove all listeners when the component unmounts\r\n    return () => {\r\n      window.removeEventListener(\"storage\", handleStorageAndFocus);\r\n      window.removeEventListener(\"focus\", handleStorageAndFocus);\r\n      window.removeEventListener(\"favoritesUpdated\", handleFavoritesUpdated);\r\n      window.removeEventListener(\"historyUpdated\", handleHistoryUpdated);\r\n    };\r\n  }, [updateEarnedBadges, currentUsername]); // Re-attach listeners if the user changes\r\n\r\n\r\n  // Calculates progress for a course, pulling from the *correct user's* data\r\n  const calculateProgress = (courseId) => {\r\n    if (!currentUsername) return 0; // Safety check\r\n    const course = courses.find((course) => course.id === courseId);\r\n    const totalLectures = course ? course.totalLectures : 0;\r\n    if (totalLectures === 0) return 0; // Prevent divide by zero\r\n\r\n    // Get this user's progress from the main progress object\r\n    const userProgress = courseProgress[currentUsername] || {};\r\n    const courseData = userProgress[courseId] || {};\r\n    const completedLectures = courseData.completedLectures || [];\r\n\r\n    const progress = (completedLectures.length / totalLectures) * 100;\r\n    return progress;\r\n  };\r\n\r\n  \r\n  // EFFECT 4: This effect runs ONCE on mount to create background particles\r\n  useEffect(() => {\r\n    const baseParticles = [ /* ... particle positions ... */ ];\r\n    const randomizedParticles = baseParticles.map((p) => ({\r\n      ...p,\r\n      size: 5 + Math.random() * 15,\r\n      duration: 15 + Math.random() * 15,\r\n      color: `rgba(0,0,0,${0.1 + Math.random() * 0.3})`,\r\n    }));\r\n    setParticles(randomizedParticles);\r\n  }, []); // The empty array `[]` ensures this runs only once\r\n\r\n\r\n  // --- Event Handlers for Editing Profile ---\r\n\r\n  // Called when \"Edit Profile\" is clicked\r\n  const handleEditClick = () => { setFormData(user); setIsEditing(true); };\r\n  // Called when \"Cancel\" is clicked\r\n  const handleCancelClick = () => { setIsEditing(false); }; \r\n  // Called when \"Save\" is clicked\r\n  const handleSaveClick = () => { \r\n    // Merge the edited 'formData' into the 'user' object\r\n    const updatedUser = { ...user, ...formData };\r\n    setUser(updatedUser); // Update the state\r\n    \r\n    // In a real app, this would be an API call to a database.\r\n    // Here, we just update the mock data object.\r\n    USERS_DATA[currentUsername] = updatedUser; \r\n    \r\n    setIsEditing(false); // Exit edit mode\r\n  };\r\n  // Updates 'formData' state as the user types in an input\r\n  const handleChange = (e) => setFormData({ ...formData, [e.target.name]: e.target.value });\r\n\r\n  // Called when a new avatar file is selected\r\n  const handleAvatarChange = (e) => {\r\n    if (!currentUsername) return; // Safety check\r\n    const file = e.target.files[0];\r\n    if (file) {\r\n      const reader = new FileReader(); // Use FileReader to read the file\r\n      reader.onload = () => {\r\n        // 'reader.result' is a base64 Data URL (e.g., \"data:image/png;base64,...\")\r\n        const avatarDataUrl = reader.result;\r\n        setAvatar(avatarDataUrl); // Update the UI\r\n        // Save the avatar to localStorage under this user's name\r\n        const savedAvatars = JSON.parse(localStorage.getItem(\"userAvatars\") || \"{}\");\r\n        savedAvatars[currentUsername] = avatarDataUrl;\r\n        localStorage.setItem(\"userAvatars\", JSON.stringify(savedAvatars));\r\n        // Dispatch a 'storage' event to notify other components/tabs\r\n        window.dispatchEvent(new Event(\"storage\"));\r\n      };\r\n      reader.readAsDataURL(file); // Start reading the file\r\n    }\r\n  };\r\n  // --- End User Info Handlers ---\r\n\r\n  // --- Decoration Handlers ---\r\n  // Helper to get the CSS class for a decoration ID\r\n  const getDecorationClass = (decorationId) => {\r\n    if (decorationId === \"gold_decoration\") return styles.goldDecoration;\r\n    if (decorationId === \"silver_decoration\") return styles.silverDecoration;\r\n    if (decorationId === \"bronze_decoration\") return styles.bronzeDecoration;\r\n    return ''; // Default: no class\r\n  };\r\n  // Helper to get the name (e.g., \"Gold Wreath\") for a decoration ID\r\n  const getDecorationName = (decorationId) => {\r\n    for (const reward of Object.values(MEDAL_REWARDS)) {\r\n      if (reward.decoration.id === decorationId) return reward.decoration.name;\r\n    }\r\n    return \"None\";\r\n  };\r\n  // Called when a new decoration is selected in the edit form\r\n  const handleEquipDecoration = (decorationId) => {\r\n    if (!currentUsername) return;\r\n    // If \"none\" is clicked, set to null. Otherwise, use the ID.\r\n    const newEquippedId = decorationId === \"none\" ? null : decorationId;\r\n    setEquippedDecoration(newEquippedId); // Update the UI\r\n    \r\n    // Save the new equipped decoration to localStorage\r\n    const decorationData = JSON.parse(localStorage.getItem(\"userDecorations\") || \"{}\");\r\n    if (!decorationData[currentUsername]) {\r\n      // Ensure the user's object exists\r\n      decorationData[currentUsername] = { unlocked: [], equipped: null };\r\n    }\r\n    decorationData[currentUsername].equipped = newEquippedId;\r\n    localStorage.setItem(\"userDecorations\", JSON.stringify(decorationData));\r\n    \r\n    // Notify other components/tabs\r\n    window.dispatchEvent(new Event(\"storage\"));\r\n  };\r\n  // --- End Decoration Handlers ---\r\n\r\n  // Data for the sidebar menu\r\n  const menuItemsPrimary = [\r\n    { label: \"Home\", icon: \"/icons/home.png\", path: \"/home\" },\r\n    { label: \"Profile\", icon: \"/icons/user.png\", path: \"/profile\" },\r\n    { label: \"Ranking\", icon: \"/icons/ranking.png\", path: \"/ranking\" },\r\n    { label: \"Logout\", icon: \"/icons/logout.png\", path: \"/auth\" },\r\n  ];\r\n  \r\n  // A boolean flag to check if we are viewing our *own* profile\r\n  // This is used to show/hide the \"Edit Profile\" button, avatar change, etc.\r\n  const isViewingOwnProfile = currentUsername === LOGGED_IN_USERNAME;\r\n\r\n  // --- Loading State Render ---\r\n  // If 'currentUsername' is still null, we are still waiting for EFFECT 1\r\n  // to run and figure out who to load. Show a loading message.\r\n  if (!currentUsername) {\r\n    return (\r\n      <div className={styles.profileContainer}>\r\n        {/* Show a simplified sidebar while loading */}\r\n        <div className={`${styles.sidebar} ${sidebarOpen ? styles.active : \"\"}`}>\r\n          <header>\r\n            <div className={styles.imageText}>\r\n              <img src=\"/icons/OEH_logo.png\" alt=\"OEH Logo\" />\r\n            </div>\r\n          </header>\r\n        </div>\r\n        {/* Show a centered \"Loading...\" message */}\r\n        <main className={styles.mainContent}>\r\n          <div style={{textAlign: 'center', paddingTop: '100px', fontSize: '1.5rem', fontWeight: 600, color: '#1a2c50'}}>\r\n            Loading profile...\r\n          </div>\r\n        </main>\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  // --- Main Page Render ---\r\n  // This renders *after* 'currentUsername' is set and data has been loaded.\r\n  return (\r\n    <PageTransition>\r\n      {/* \"Back to My Profile\" Button */}\r\n      {/* This button only appears if we are *not* viewing our own profile */}\r\n      {!isViewingOwnProfile && (\r\n        <button \r\n          className={styles.backToProfileBtn} \r\n          onClick={() => {\r\n            // When clicked, clear the 'viewing_profile' from localStorage\r\n            localStorage.removeItem(\"viewing_profile\");\r\n            // And navigate back to our own profile URL\r\n            router.replace(\"/profile?view=me\");\r\n          }}\r\n        >\r\n          ← Back to My Profile\r\n        </button>\r\n      )}\r\n\r\n      {/* Main 2-column layout */}\r\n      <div className={styles.profileContainer}>\r\n        {/* Sidebar (Standard) */}\r\n        <div className={`${styles.sidebar} ${sidebarOpen ? styles.active : \"\"}`}>\r\n          <header>\r\n            <div className={styles.imageText}>\r\n              <img src=\"/icons/OEH_logo.png\" alt=\"OEH Logo\" />\r\n              <span className={styles.main}>Open Education Hub</span>\r\n            </div>\r\n            <div\r\n              className={`${styles.toggleBtn} ${sidebarOpen ? styles.active : \"\"}`}\r\n              onClick={() => setSidebarOpen(!sidebarOpen)}\r\n            >\r\n              <span className={styles.bar1}></span>\r\n              <span className={styles.bar2}></span>\r\n              <span className={styles.bar3}></span>\r\n            </div>\r\n          </header>\r\n          <ul className={styles.menuLinks}>\r\n            {menuItemsPrimary.map((item) => (\r\n              <li key={item.label} className={styles.navLink}>\r\n                <button className={styles.menuBtn} onClick={() => router.push(item.path)}>\r\n                  <img src={item.icon} alt={item.label} />\r\n                  <span>{item.label}</span>\r\n                </button>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n\r\n        {/* Main content */}\r\n        <main className={styles.mainContent}>\r\n          {/* Background particles */}\r\n          <div className={styles.particles}>\r\n            {particles.map((p, i) => (\r\n              <div\r\n                key={i}\r\n                className={styles.particle}\r\n                style={{\r\n                  top: p.top, left: p.left,\r\n                  width: `${p.size}px`, height: `${p.size}px`,\r\n                  animationDuration: `${p.duration}s`, backgroundColor: p.color,\r\n                }}\r\n              />\r\n            ))}\r\n          </div>\r\n\r\n          {/* Main 3-section profile layout */}\r\n          <div className={styles.profileLayout}>\r\n            {/* Section 1: User Info (Left) */}\r\n            <div className={styles.profileInfoWrapper}>\r\n              <div className={styles.profileHeader}>\r\n                <span className={styles.headerLabel}>USER CENTRE</span>\r\n                {/* Editable avatar */}\r\n                <div className={styles.avatarWrapper}>\r\n                  {/* The equipped decoration (e.g., gold wreath) */}\r\n                  <div className={`${styles.avatarDecoration} ${getDecorationClass(equippedDecoration)}`}></div>\r\n                  {/* The avatar image itself */}\r\n                  {avatar ? (\r\n                    <img src={avatar} alt=\"Profile Avatar\" className={styles.profileAvatarImage} />\r\n                  ) : (\r\n                    <div className={styles.profileAvatarPlaceholder}>AVATAR</div>\r\n                  )}\r\n\r\n                  {/* Show the \"Change Avatar\" overlay only if viewing our own profile */}\r\n                  {isViewingOwnProfile && (\r\n                    <div\r\n                      className={styles.avatarOverlay}\r\n                      onClick={() => fileInputRef.current?.click()} // Clicks the hidden file input\r\n                    >\r\n                      Change Avatar\r\n                    </div>\r\n                  )}\r\n                  \r\n                  {/* The hidden file input, controlled by the overlay */}\r\n                  {isViewingOwnProfile && (\r\n                    <input\r\n                      type=\"file\" accept=\"image/*\"\r\n                      ref={fileInputRef} onChange={handleAvatarChange}\r\n                      style={{ display: \"none\" }} // Hide the default ugly input\r\n                    />\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              {/* User info: Toggles between VIEW and EDIT mode */}\r\n              {!isEditing ? (\r\n                // --- VIEW MODE ---\r\n                <>\r\n                  <h2 className={styles.profileName}>{user.name}</h2>\r\n                  <p className={styles.profileUsername}>@{user.username}</p>\r\n                    \r\n                  {/* Stats block for learning time and join date */}\r\n                  <div className={styles.statBlock}>\r\n                    <div className={styles.statItem}>\r\n                      <strong>Total Learning Time:</strong>\r\n                      <span className={styles.learntime}>{formatTime(learningTime)}</span>\r\n                    </div>\r\n                    <div className={styles.statItem}>\r\n                      <strong>Member Since:</strong>\r\n                      <span className={styles.memberSince}>{user.joined}</span>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <p className={styles.profileBio}>{user.bio}</p>\r\n                  \r\n                  <div className={styles.emailWrapper}>\r\n                    <img src=\"/icons/email-icon.png\" alt=\"email icon\" className={styles.emailIcon} />\r\n                    <p className={styles.profileEmail}>{user.email}</p>\r\n                  </div>\r\n\r\n                  {/* Show \"Edit Profile\" button ONLY if it's our profile */}\r\n                  {isViewingOwnProfile && (\r\n                    <div className={styles.profileActions}>\r\n                      <button className={styles.editBtn} onClick={handleEditClick}>Edit Profile</button>\r\n                    </div>\r\n                  )}\r\n                </>\r\n              ) : (\r\n                // --- EDIT MODE ---\r\n                <>\r\n                  <div className={styles.editForm}>\r\n                    <label><strong>Name</strong>\r\n                      <input type=\"text\" name=\"name\" value={formData.name} onChange={handleChange} />\r\n                    </label>\r\n                    <label><strong>Bio</strong>\r\n                      <textarea name=\"bio\" value={formData.bio} onChange={handleChange} rows=\"3\" />\r\n                    </label>\r\n                    <label><strong>Email</strong>\r\n                      <input type=\"email\" name=\"email\" value={formData.email} onChange={handleChange} />\r\n                    </label>\r\n\r\n                    {/* Decoration Selector */}\r\n                    <label>\r\n                      <strong>Avatar Decoration</strong>\r\n                      <div className={styles.decorationSelector}>\r\n                        {/* \"None\" option */}\r\n                        <button \r\n                          className={`${styles.decorationOption} ${!equippedDecoration ? styles.decorationActive : ''}`}\r\n                          onClick={() => handleEquipDecoration(\"none\")}\r\n                          type=\"button\" // Prevent this button from submitting a form\r\n                        >\r\n                          <div className={styles.decorationPreview}>\r\n                            <div className={styles.decorationPreviewInner}></div>\r\n                          </div>\r\n                          <span className={styles.decorationName}>None</span>\r\n                        </button>\r\n                        \r\n                        {/* Map over UNLOCKED decorations */}\r\n                        {unlockedDecorations.map(decoId => (\r\n                          <button \r\n                            key={decoId}\r\n                            // Add 'decorationActive' class if this is the equipped one\r\n                            className={`${styles.decorationOption} ${equippedDecoration === decoId ? styles.decorationActive : ''}`}\r\n                            onClick={() => handleEquipDecoration(decoId)}\r\n                            type=\"button\"\r\n                          >\r\n                            {/* Show a preview of the decoration */}\r\n                            <div className={`${styles.decorationPreview} ${getDecorationClass(decoId)}`}>\r\n                              <div className={styles.decorationPreviewInner}></div>\r\n                            </div>\r\n                            <span className={styles.decorationName}>{getDecorationName(decoId)}</span>\r\n                          </button>\r\n                        ))}\r\n                      </div>\r\n                    </label>\r\n                  </div>\r\n                  {/* \"Save\" and \"Cancel\" buttons for the form */}\r\n                  <div className={styles.formActions}>\r\n                    <button className={styles.saveBtn} onClick={handleSaveClick}>Save</button>\r\n                    <button className={styles.cancelBtn} onClick={handleCancelClick}>Cancel</button>\r\n                  </div>\r\n                </>\r\n              )}\r\n            </div>\r\n            \r\n            {/* Section 2: Achievements (Center) */}\r\n            <div className={styles.achievementContainer}>\r\n              <h3 className={styles.achievementTitle}>Achievements</h3>\r\n              {/* Show a message if no badges are earned */}\r\n              {badges.length === 0 ? (\r\n                <p>No achievements yet</p>\r\n              ) : (\r\n                // Otherwise, create a grid of badges\r\n                <div className={styles.badgeGrid}>\r\n                  {badges.map((badge, index) => ( \r\n                    <div className={styles.badgeCard} key={index}>\r\n                      <img \r\n                        src={badge.url} \r\n                        alt={badge.name} \r\n                        className={styles.badgeImage} \r\n                        // Fallback image in case the src is broken\r\n                        onError={(e) => e.target.src = 'https://placehold.co/100x100/eee/aaa?text=Badge'}\r\n                      />\r\n                      <p className={styles.badgeLabel}>{badge.name}</p>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n            \r\n            {/* Section 3: Dropdowns (Right) */}\r\n            <div className={styles.dropdownGroup}>\r\n              {/* Favorites Dropdown */}\r\n              <Dropdown \r\n                label=\"FAVORITE\" \r\n                icon=\"/icons/heart.png\"\r\n                // When opened, re-fetch favorites data from localStorage\r\n                onOpen={() => {\r\n                  let allFavorites = JSON.parse(localStorage.getItem(\"favorites\") || \"{}\");\r\n                  if (Array.isArray(allFavorites)) { allFavorites = {}; }\r\n                  setFavorites(allFavorites[currentUsername] || []);\r\n                }}\r\n              >\r\n                {/* If there are favorites, map over them */}\r\n                {favorites.length > 0 ? (\r\n                  favorites.map(id => {\r\n                    const course = courses.find(c => c.id === id);\r\n                    const progress = calculateProgress(id);\r\n                    return (\r\n                      <a\r\n                        key={id}\r\n                        className={styles.dropItem}\r\n                        onClick={() => router.push(`/courses/${id}`)}\r\n                      >\r\n                        <div>{course ? course.name : id}</div>\r\n                        {/* Show progress bar for each favorite item */}\r\n                        <div className={styles.progressWrapper}>\r\n                          <div className={styles.progressContainer}>\r\n                            <div\r\n                              className={styles.progressBar}\r\n                              style={{ width: `${Math.round(progress)}%` }}\r\n                            />\r\n                          </div>\r\n                          <span className={styles.percentLabel}>{Math.round(progress)}%</span>\r\n                        </div>\r\n                      </a>\r\n                    );\r\n                  })\r\n                ) : (\r\n                  // Show a message if no favorites\r\n                  <span className={styles.dropItem}>No favorites yet</span>\r\n                )}\r\n              </Dropdown>\r\n\r\n              {/* History Dropdown */}\r\n              <Dropdown \r\n                label=\"HISTORY\" \r\n                icon=\"/icons/history.png\" \r\n                // When opened, re-fetch all data to ensure it's up to date\r\n                onOpen={() => {\r\n                  let allHistory = JSON.parse(localStorage.getItem(\"history\") || \"{}\");\r\n                  if (Array.isArray(allHistory)) { allHistory = {}; }\r\n                  setHistory(allHistory[currentUsername] || []);\r\n                  \r\n                  const savedProgress = JSON.parse(localStorage.getItem(\"courseProgress\") || \"{}\");\r\n                  setCourseProgress(savedProgress);\r\n                  updateEarnedBadges(savedProgress);\r\n                  \r\n                  const savedTime = JSON.parse(localStorage.getItem(\"learningTime\") || \"{}\");\r\n                  setLearningTime(savedTime[currentUsername] || 0);\r\n                }}\r\n              >\r\n                {/* If there is history, map over it */}\r\n                {history.length > 0 ? (\r\n                  history.map(id => {\r\n                    const course = courses.find(c => c.id === id);\r\n                    const progress = calculateProgress(id);\r\n                    return (\r\n                      <a\r\n                        key={id}\r\n                        className={styles.dropItem}\r\n                        onClick={() => router.push(`/courses/${id}`)}\r\n                      >\r\n                        <div>{course ? course.name : id}</div>\r\n                        {/* Show progress bar for each history item */}\r\n                        <div className={styles.progressWrapper}>\r\n                          <div className={styles.progressContainer}>\r\n                            <div\r\n                              className={styles.progressBar}\r\n                              style={{ width: `${Math.round(progress)}%` }}\r\n                            />\r\n                          </div>\r\n                          <span className={styles.percentLabel}>{Math.round(progress)}%</span>\r\n                        </div>\r\n                      </a>\r\n                    );\r\n                  })\r\n                ) : (\r\n                  // Show a message if no history\r\n                  <span className={styles.dropItem}>No recent courses</span>\r\n                )}\r\n              </Dropdown>\r\n            </div>\r\n          </div>\r\n        </main>\r\n      </div>\r\n    </PageTransition>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1602, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mharu/dev/Open-Education-Hub/frontend/src/app/components/ClientGate.jsx"],"sourcesContent":["\"use client\";\r\nimport { useState, useEffect } from \"react\";\r\n\r\n// Prevent \"hydration mismatch\" errors in Next.js\r\n// Ensuring its 'children' only render *after* the client has hydrated.\r\nexport default function ClientGate({ children }) {\r\n  // This tracks whether the component has successfully mounted on the client.\r\n  const [ready, setReady] = useState(false);\r\n\r\n  useEffect(() => {\r\n    //Set the 'ready' state to 'true'. This signals that we are safely on the client and post-hydration.\r\n    setReady(true);\r\n  }, []); // The empty array ensures this effect runs only once.\r\n\r\n  // This is the logic that runs during Server-Side Rendering (SSR) and during the initial client-side render (hydration).\r\n  if (!ready) {\r\n    // The user sees nothing, but the HTML structure is consistent.\r\n    return <div style={{ visibility: \"hidden\" }}>{children}</div>;\r\n  }\r\n\r\n  // the *actual* children, which can be safely rendered on the client.\r\n  return children;\r\n}"],"names":[],"mappings":";;;;;AACA;AADA;;;AAKe,SAAS,WAAW,EAAE,QAAQ,EAAE;IAC7C,4EAA4E;IAC5E,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IAEnC,IAAA,kNAAS,EAAC;QACR,oGAAoG;QACpG,SAAS;IACX,GAAG,EAAE,GAAG,sDAAsD;IAE9D,wHAAwH;IACxH,IAAI,CAAC,OAAO;QACV,+DAA+D;QAC/D,qBAAO,8OAAC;YAAI,OAAO;gBAAE,YAAY;YAAS;sBAAI;;;;;;IAChD;IAEA,qEAAqE;IACrE,OAAO;AACT","debugId":null}}]
}